title: 小米路由器3安装 shadowshocks
date: 2016-09-09
categories: tech
---

> 目前已经有大神搞出个UI界面安装 shadowshocks，所以这篇文章大家只看前三步就行（开启ss权限）。传送门：http://bbs.xiaomi.cn/t-12975500

<!--more-->

================== 华丽的分割线 ===================

前段时间，因工作需要，买了一台小米路由器3，号称同时能连接一百多个客户端。

之前用的是极路由，但是只要客户端一多，就及其不稳定，这时，正当小米推出路由器3，就好不犹豫购置一台，本人对小米的产品还是比较看好，家里用的就是一台小米mini，至今没有撒娇过。

用极路由的时候，对他的插件模式还是比较认同的，一般的小白，点点就能安装，很方便，这点小米路由器还有待学习。

拿到小米路由器3之后，总以为里边有 shadowsocks 插件呢，但是很遗憾，啥都装不了，除了能用用迅雷下载，这叫我整天用 google 的人怎么过。

下面就是我的折腾之旅。

## 第一步，系统ROM稳定版更新为开发版

查看系统，路由器型号是R3,系统ROM版本是稳定版 2.x.x(具体版本忘了)。稳定版肯定是不行，关闭了好多功能 ，只有开发版才有权限使用某些功能。

1) 登陆 http://www1.miwifi.com/miwifi_download.html 选择ROM板块，下载对应的开发版（2.13.33），是一个 xxxx.bin 的文件包。
2) 登陆小米路由器，选择手动升级，选择刚刚下载的 xxxx.bin 文件包。
3) 稍等片刻，系统ROM版本就成开发版了。进入到 常用设置 -> 系统状态，会发现，系统版本有可以升级，升级到2.13.75。

注意:升级需谨慎，只要升级到开发版，官网就不保修了。

## 第二步，开启SS权限，路由器也是系统，只有能进系统，就好说了。

1) 登陆 https://d.miwifi.com/rom/ssh 下载对应的 SS 工具包（前提是先绑定到你的小米账户），因为我有两个小米路由器，所以就会显示两个工具包。
2) 记住 root 密码，这个密码就是 SS 登陆密码。
3) 按照工具包使用方法操作，官网写的是“小米路由器3即将支持”，但是实际上可以。

    3.1 请将下载的工具包bin文件复制到U盘（FAT/FAT32格式）的根目录下，保证文件名为miwifi_ssh.bin；
    3.2 断开小米路由器的电源，将U盘插入USB接口；
    3.3 按住reset按钮之后重新接入电源，指示灯变为黄色闪烁状态即可松开reset键；
    3.4 等待3-5秒后安装完成之后，小米路由器会自动重启，之后您就可以尽情折腾啦 ：）

## 第三步，安装 shadowshocks 插件（此脚本已作废）

现在网上针对R3版本的 shadowshocks 插件很少，大部分都是mini或青春版的，但是功夫不负有心人，找到一个，在这谢谢这为仁兄的无私奉献。

1) 登陆到小米路由器，密码就是第二步中的 root 密码，不是登陆小米路由器的密码，千万不要搞错了。
2) 复制以下命令到窗口中并回车。

```
cd /tmp && rm -rf *.sh && cd /tmp && rm -rf *.sh && wget http://okss.tk/xiaomi/miwifi.sh && chmod +x miwifi.sh && sh ./miwifi.sh && rm -rf *.sh
```
3) 里边有6个选项，选择第5项（安装r3版ss插件）。
4) 输入SS的服务器IP，密码，端口，加密方式。
5) 最后提示“Shadowsocks安装成功！”。


最后，访问 google ，终于又能科学上网了。

参考：http://www.miui.com/thread-4133822-1-1.html